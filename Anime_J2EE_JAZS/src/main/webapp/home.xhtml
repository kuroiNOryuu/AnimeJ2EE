<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core">
    
<h:head>
	<h:outputStylesheet library="css" name="../resources/css/bootstrap.min.css" />
	<h:outputStylesheet library="css" name="../resources/css/materialize.min.css" />
	<h:outputScript library="js" name="../resources/js/bootstrap.min.js" />
	<h:outputScript library="js" name="../resources/js/jquery.min.js" />
	<h:outputScript library="js" name="../resources/js/materialize.min.js" />
</h:head>

<ui:composition template="/WEB-INF/templates/BasicTemplate.xhtml">
    <ui:define name="content">
    	<h:form>
	        <h:commandButton rendered="#{animeAppBean.renderPopulateButton}" value="Populate DB" action="#{animeAppBean.populate}" class="waves-effect waves-light btn-small z-depth-3 pulse"/><br/>
	        <h:commandButton value="New" action="#{animeAppBean.addAnime}" class="waves-effect waves-light btn-small"/><br/>
	        
	        <ui:repeat value="#{animeAppBean.animes}" var="anime">
		   		<div class="card-panel cyan lighten-5">  
		   			<h:panelGroup layout = "block">
		   				<h:commandLink value="#{anime.animeName}" action = "#{animeAppBean.details}">
		   					<f:param name = "animeId" value = "anime.idAnime" />
		   				</h:commandLink>
		   				<h:commandButton value = "Delete" action ="#{animeAppBean.removeAnime}" >
		   					<f:setPropertyActionListener target="#{animeAppBean.idAnimeToDelete}" value="#{anime.idAnime}" />
		   				</h:commandButton><br/>
		   				<h:outputText value="Start date : "/><h:outputText value="#{anime.startDate}"/><br/>
		   				<h:outputText value="End date : "/><h:outputText value="#{anime.endDate}"/><br/>
		   				<h:outputText value="Episode duration : "/><h:outputText value="#{anime.episodeDuration} min"/><br/>
		   				<h:outputText value="Number of episodes : "/><h:outputText value="#{anime.numberOfEpisodes}"/><br/>
		   				<h:outputText value="Studio : "/><h:outputText value="#{anime.studio.studioName}"/><br/>		   				
		   			</h:panelGroup>
			   	</div>
		   	</ui:repeat>
   		</h:form>
    </ui:define>
</ui:composition>
</html>